
<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Force Error</title>
	<style>
		html,body{height:100%}
		body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;display:flex;align-items:center;justify-content:center;margin:0;background:#fafafa}
		button{padding:12px 18px;font-size:16px;border-radius:8px;border:1px solid #b33;background:#e44;color:#fff;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,background .12s}
		button:active{transform:scale(.98)}
		button.clicked{background:#b33;box-shadow:0 6px 18px rgba(0,0,0,.18);transform:translateY(-2px) scale(1.02)}
		button[disabled]{opacity:.8;cursor:default}
	</style>
</head>
<body>
	<button id="errorBtn" aria-pressed="false">Trigger Error</button>

	<script>
		// Update UI immediately, then throw an error so the change is visible.
		const btn = document.getElementById('errorBtn');
		btn.addEventListener('click', function () {
			btn.classList.add('clicked');
			btn.textContent = 'Triggered';
			btn.setAttribute('aria-pressed', 'true');
			btn.disabled = true;

			// Small timeout ensures the visual update renders before the uncaught error.
			setTimeout(() => {
				throw new Error('Forced error: button clicked');
			}, 50);
		});
	</script>
</body>
</html>
